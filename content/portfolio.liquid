---js
const eleventyNavigation = {
key: "Portfolio",
order: 2
};
---

<div class="container mx-auto max-w-5xl px-4 lg:px-0">
	<section class="my-12 md:my-16 space-y-4">
		<h1 class="font-serif text-heading text-4xl md:text-5xl font-bold tracking-tight">
			Portfolio
		</h1>
		<p class="font-thin text-xl md:text-2xl leading-relaxed max-w-3xl">
			Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
		</p>
	</section>

	<!-- Section 1 -->
	<section class="my-12 md:my-16 space-y-12">
		<div>
			<h2 class="text-3xl md:text-4xl font-bold font-serif text-heading tracking-tight mb-2">
				Lorem Ipsum
			</h2>
			<p class="font-thin text-base md:text-lg text-body-subtle">
				Dolor sit amet consectetur adipiscing elit
			</p>
		</div>

		<!-- Project 1 -->
		<div class="grid md:grid-cols-5 gap-8 md:gap-12">
			<div class="md:col-span-2">
				<h3 class="md:hidden text-2xl md:text-3xl font-serif font-bold text-body">
					Lorem Ipsum Dolor
				</h3>
				<div class="carousel-container relative">
					<div class="carousel-viewport w-full overflow-hidden rounded-lg shadow-lg border-1 border-c04">
						<div class="carousel-track flex transition-transform duration-500 ease-in-out">
							<img eleventy:pictureattr:class="flex-shrink-0 carousel-slide min-w-full w-full" src="https://placehold.co/800x600/444/666?text=Slide+1" alt="Project slide 1" width="800" height="600">
							<img eleventy:pictureattr:class="flex-shrink-0 carousel-slide min-w-full w-full" src="https://placehold.co/800x600/444/666?text=Slide+2" alt="Project slide 2" width="800" height="600">
							<img eleventy:pictureattr:class="flex-shrink-0 carousel-slide min-w-full w-full" src="https://placehold.co/800x600/444/666?text=Slide+3" alt="Project slide 3" width="800" height="600">
						</div>
					</div>
					<button class="carousel-prev hidden absolute left-2 top-1/2 -translate-y-1/2 bg-ground/80 hover:bg-ground text-body border-1 border-c03 rounded-full w-10 h-10 flex items-center justify-center transition-colors">
						‹
					</button>
					<button class="carousel-next hidden absolute right-2 top-1/2 -translate-y-1/2 bg-ground/80 hover:bg-ground text-body border-1 border-c03 rounded-full w-10 h-10 flex items-center justify-center transition-colors">
						›
					</button>
				</div>
			</div>
			<div class="md:col-span-3 space-y-4">
				<h3 class="hidden md:block text-2xl md:text-3xl font-serif font-bold text-body">
					Lorem Ipsum Dolor
				</h3>
				<p class="font-thin text-base md:text-lg text-body-subtle">
					Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris.
				</p>
				<p class="font-thin text-base md:text-lg text-body-subtle">
					Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur.
				</p>
			</div>
		</div>
	</section>
</div>

{% js %}
// Carousel functionality
document.addEventListener('DOMContentLoaded', function() {
	const carousels = document.querySelectorAll('.carousel-container');

	carousels.forEach(carousel => {
		const track = carousel.querySelector('.carousel-track');
		const slides = carousel.querySelectorAll('.carousel-slide');
		const prevBtn = carousel.querySelector('.carousel-prev');
		const nextBtn = carousel.querySelector('.carousel-next');

		// Show arrows now that JS is enabled
		prevBtn.classList.remove('hidden');
		nextBtn.classList.remove('hidden');

		let currentIndex = 0;
		const totalSlides = slides.length;
		console.log(totalSlides);

		function updateCarousel() {
			const slideWidth = slides[0].offsetWidth;
			const offset = -currentIndex * slideWidth;
			track.style.transform = `translateX(${offset}px)`;

			// Update button visibility
			prevBtn.style.opacity = currentIndex === 0 ? '0.3' : '1';
			prevBtn.style.pointerEvents = currentIndex === 0 ? 'none' : 'auto';
			nextBtn.style.opacity = currentIndex === totalSlides - 1 ? '0.3' : '1';
			nextBtn.style.pointerEvents = currentIndex === totalSlides - 1 ? 'none' : 'auto';
		}

		prevBtn.addEventListener('click', () => {
		console.log(currentIndex);
			if (currentIndex > 0) {
				currentIndex--;
				updateCarousel();
			}
		});

		nextBtn.addEventListener('click', () => {
		console.log(currentIndex);
			if (currentIndex < totalSlides - 1) {
				currentIndex++;
				updateCarousel();
			}
		});

		updateCarousel();
	});
});
{% endjs %}
