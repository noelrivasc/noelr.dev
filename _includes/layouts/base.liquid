<!doctype html>
<html lang="{{ metadata.language }}">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>{{ title | default: metadata.title }}</title>
		<meta name="description" content="{{ description | default: metadata.description }}">

		{%- css "base" %}
		{% # Grouping base styles allows control of the order in which they are output %}
		{% include "public/css/fonts.css" %}
		{% include "public/css/colors.css" %}
		{% include "public/css/index.css" %}
		{% endcss %}

		{% comment %}
		{%- css %}{% include "node_modules/prismjs/themes/prism-okaidia.css" %}{% endcss %}
		{% endcomment %}

		{% # Render the CSS bundle using inlined CSS (for the fastest site performance in production)%}
		<style>{% getBundle "css" "base" %}</style>
		<style>{% getBundle "css" %}</style>

		{% # Renders the CSS bundle using a separate file, if you can't set CSP directive style-src: 'unsafe-inline' %}
		{% comment %}
		<link rel="stylesheet" href="{% getBundleFileUrl "css" %}">
		{% endcomment %}

		{% # See https://github.com/daviddarnes/heading-anchors %}
		{%- js %}{% include "node_modules/@zachleat/heading-anchors/heading-anchors.js" %}{% endjs %}
	</head>
	<body>
		<a href="#skip" class="visually-hidden">Skip to main content</a>

		<header>
			<a href="/" class="home-link">{{ metadata.title }}</a>

			{% # Read more about `eleventy-navigation` at https://www.11ty.dev/docs/plugins/navigation/ %}
			<nav>
				<h2 class="visually-hidden">Top level navigation menu</h2>
				<ul class="nav">
				{%- assign navPages = collections.all | eleventyNavigation %}
				{%- for entry in navPages %}
					<li class="nav-item"><a href="{{ entry.url }}"{% if entry.url == page.url %} aria-current="page"{% endif %}>{{ entry.title }}</a></li>
				{%- endfor %}
				</ul>
			</nav>
		</header>

		<main id="skip">
			<heading-anchors>
				{{ content }}
			</heading-anchors>
		</main>

		<!-- This page `{{ page.url }}` was built on {% currentBuildDate %} -->
		<script type="module" src="{% getBundleFileUrl "js" %}"></script>
	</body>
</html>
